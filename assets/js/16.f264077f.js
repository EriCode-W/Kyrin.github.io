(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{516:function(s,a,n){s.exports=n.p+"assets/img/group.443b06a8.png"},643:function(s,a,n){"use strict";n.r(a);var e=n(4),t=Object(e.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("部署联盟链 FISCO BCOS 流程")]),s._v(" "),e("p",[s._v("参考 "),e("a",{attrs:{href:"https://fisco-bcos-documentation.readthedocs.io/zh_CN/latest/index.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://fisco-bcos-documentation.readthedocs.io/zh_CN/latest/index.html"),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("搭建过程放在 "),e("a",{attrs:{href:"https://github.com/KyrinCode/Fisco_Bcos_Setup",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/KyrinCode/Fisco_Bcos_Setup"),e("OutboundLink")],1),s._v(" 的 fiscobcos-sample0")]),s._v(" "),e("h2",{attrs:{id:"网络拓扑"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#网络拓扑"}},[s._v("#")]),s._v(" 网络拓扑")]),s._v(" "),e("p",[s._v("搭建单机、4 机构、3 群组、8 节点的网络拓扑：")]),s._v(" "),e("p",[e("img",{attrs:{src:n(516),alt:"group"}})]),s._v(" "),e("p",[s._v("星形区块链组网如下：")]),s._v(" "),e("ul",[e("li",[e("code",[s._v("agencyA")]),s._v("：在 "),e("code",[s._v("127.0.0.1")]),s._v(" 上有 2 个节点，同时属于 "),e("code",[s._v("group1、group2、group3")]),s._v("；")]),s._v(" "),e("li",[e("code",[s._v("agencyB")]),s._v("：在 "),e("code",[s._v("127.0.0.1")]),s._v(" 上有 2 个节点，属于 "),e("code",[s._v("group1")]),s._v("；")]),s._v(" "),e("li",[e("code",[s._v("agencyC")]),s._v("：在 "),e("code",[s._v("127.0.0.1")]),s._v(" 上有 2 个节点，属于 "),e("code",[s._v("group2")]),s._v("；")]),s._v(" "),e("li",[e("code",[s._v("agencyD")]),s._v("：在 "),e("code",[s._v("127.0.0.1")]),s._v(" 上有 2 个节点，属于 "),e("code",[s._v("group3")]),s._v("。")])]),s._v(" "),e("p",[s._v("（在不同机器操作时，请将生成的对应IP的文件夹拷贝到对应机器启动，建链操作只需要执行一次！）")]),s._v(" "),e("h2",{attrs:{id:"网络配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#网络配置"}},[s._v("#")]),s._v(" 网络配置")]),s._v(" "),e("p",[s._v("创建工作目录。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" fisco "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$_")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("获取 "),e("code",[s._v("build_chain")]),s._v(" 脚本。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#LO https://github.com/FISCO-BCOS/FISCO-BCOS/releases/download/v2.7.1/build_chain.sh && chmod u+x build_chain.sh")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("生成区块链配置文件 "),e("code",[s._v("ipconf")]),s._v("。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" ipconf "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("EOF\n127.0.0.1:2 agencyA 1,2,3\n127.0.0.1:2 agencyB 1\n127.0.0.1:2 agencyC 2\n127.0.0.1:2 agencyD 3\nEOF")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ip:num：物理机 IP 以及物理机上的节点数目")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# agency_name：机构名称")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# group_list：节点所属的群组列表，不同群组以逗号分隔")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("p",[s._v("使用 "),e("code",[s._v("build_chain")]),s._v(" 脚本构建区块链节点配置文件夹，这步会下载 fisco-bcos 的二进制文件，此时的 "),e("code",[s._v("fisco/nodes/cert")]),s._v(" 中有各机构的证书文件，此时的 "),e("code",[s._v("fisco/nodes/127.0.0.1/sdk")]),s._v(" 应为 "),e("code",[s._v("agencyA")]),s._v(" 的 sdk 目录。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 根据配置文件生成区块链 需要保证机器的 30300~30301，20200~20201，8545~8546 端口没有被占用")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 其中 -p 选项指定起始端口，分别是 p2p_port,channel_port,jsonrpc_port")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" build_chain.sh -f ipconf -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("30300,20200")]),s._v(",8545\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("（若生成的区块链节点属于不同物理机，需要将区块链节点拷贝到相应的物理机）")]),s._v(" "),e("p",[s._v("启动节点。")]),s._v(" "),e("p",[s._v("节点提供 "),e("code",[s._v("start_all.sh")]),s._v(" 和 "),e("code",[s._v("stop_all.sh")]),s._v(" 脚本启动和停止节点。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" fisco/nodes/127.0.0.1\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" start_all.sh "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动节点")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" fisco-bcos "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看节点进程")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("查看群组共识状态。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 节点正常共识打印 +++ 日志，+++ 日志字段含义：")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# g:：群组 ID")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# blkNum：Leader 节点产生的新区块高度；")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tx: 新区块中包含的交易数目；")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nodeIdx: 本节点索引；")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# hash: 共识节点产生的最新区块哈希。")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 node0 group1 是否正常共识")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -f node0/log/* "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"g:1.*++"')]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("h2",{attrs:{id:"控制台配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#控制台配置"}},[s._v("#")]),s._v(" 控制台配置")]),s._v(" "),e("p",[s._v("节点负责共识和记账，账户负责通过控制台通过 Java SDK 连到机构发送交易。")]),s._v(" "),e("p",[s._v("获取控制台。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" fisco\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#LO https://github.com/FISCO-BCOS/console/releases/download/v2.7.1/download_console.sh && bash download_console.sh")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("准备出 4 个机构的控制台。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" console consoleA\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -r consoleA consoleB\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -r consoleA consoleC\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -r consoleA consoleD\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("当前的 sdk 目录属于 "),e("code",[s._v("agencyA")]),s._v("。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" fisco/nodes/127.0.0.1\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" sdk sdk_agencyA\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("为其余机构生成 sdk。")]),s._v(" "),e("p",[s._v("获取证书生成脚本。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#LO https://raw.githubusercontent.com/FISCO-BCOS/FISCO-BCOS/master/tools/gen_node_cert.sh")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("通过指定机构私钥证书生成新 SDK，sdk 目录中存在机构新签发的证书和私钥。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -c指定机构证书及私钥所在路径")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -o输出到指定文件夹")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" gen_node_cert.sh -c "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/cert/agencyB -o sdk_agencyB -s\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" gen_node_cert.sh -c "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/cert/agencyC -o sdk_agencyC -s\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" gen_node_cert.sh -c "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/cert/agencyD -o sdk_agencyD -s\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("将机构的 SDK 证书拷贝至控制台配置目录。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" fisco/consoleA\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" fisco/nodes/127.0.0.1/sdk_agencyA/* conf/\n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" fisco/consoleB\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" fisco/nodes/127.0.0.1/sdk_agencyB/* conf/\n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" fisco/consoleC\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" fisco/nodes/127.0.0.1/sdk_agencyC/* conf/\n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" fisco/consoleD\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" fisco/nodes/127.0.0.1/sdk_agencyD/* conf/\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("p",[s._v("获取各节点的 "),e("code",[s._v("channel_listen_port")]),s._v("。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"channel_listen_port"')]),s._v(" fisco/nodes/127.0.0.1/node*/config.ini\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("根据 "),e("code",[s._v("channel_listen_port")]),s._v(" 去修改控制台配置文件。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" fisco/consoleA/conf/config-example.toml fisco/consoleA/conf/config.toml\n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" fisco/consoleB/conf\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/20200/20202/g'")]),s._v(" config-example.toml "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/20201/20203/g'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" config.toml\n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" fisco/consoleC/conf\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/20200/20204/g'")]),s._v(" config-example.toml "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/20201/20205/g'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" config.toml\n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" fisco/consoleD/conf\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/20200/20206/g'")]),s._v(" config-example.toml "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/20201/20207/g'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" config.toml\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("h2",{attrs:{id:"部署代币合约"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#部署代币合约"}},[s._v("#")]),s._v(" 部署代币合约")]),s._v(" "),e("p",[s._v("将 tokenERC20.sol 和 TokenA.sol 放入 "),e("code",[s._v("fisco/consoleA/contracts/solidity")]),s._v(" 和 "),e("code",[s._v("fisco/consoleB/contracts/solidity")]),s._v(" 目录中。（机构 A 和机构 B 在群组 1 中）")]),s._v(" "),e("p",[s._v("合约方法：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("name()\nsymbol()\ndecimals()\ntotalSupply()\nbalanceOf(address account)\ntransfer(address to, uint256 value)\nburn(uint256 value)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[s._v("启动控制台。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" fisco/consoleA\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" start.sh\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("控制台 consoleA 中部署合约。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("deploy TokenA\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("控制台 consoleB 中调用合约。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("call TokenA "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("contract address"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" name\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"常用控制台命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常用控制台命令"}},[s._v("#")]),s._v(" 常用控制台命令")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("getBlockNumber\nswitch <group number>\ngetCurrentAccount\nlistAccount\nnewAccount\ngetPeers\ngetGroupPeers\ngetGroupList\nlistDeployContractAddress <contract name>\ngetDeployLog\ngetCode <contract address>\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);